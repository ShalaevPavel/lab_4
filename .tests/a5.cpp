#define CATCH_CONFIG_MAIN


#include "catch.hpp"
#include "util.h"
#include "../solutions/a5.h"

#include <vector>


TEST_CASE("a5: Example", "[task:a5]") {
    vector<vector<int>> matr;
    vector<vector<int>> expected;
    SECTION("Example 1") {
        matr = {{1, 2}, {3, 4}};
        expected = {{3, 1}, {4, 2}};
        RotateMatrix(matr);
        REQUIRE(matr == expected);
    }

    SECTION("Example 2") {
        matr = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};
        expected = {{7, 4, 1}, {8, 5, 2}, {9, 6, 3}};
        RotateMatrix(matr);
        REQUIRE(matr == expected);
    }

    SECTION("Example 3") {
        matr = {{1}};
        expected = {{1}};
        RotateMatrix(matr);
        REQUIRE(matr == expected);
    }
}

TEST_CASE("a5: Even size", "[task:a5]") {
    vector<vector<int>> matr;
    vector<vector<int>> expected;
    SECTION("4x4") {
        matr = {{1, 2, 3, 4}, {5, 6, 7, 8}, {9, 10, 11, 12}, {13, 14, 15, 16}};
        expected = {{13, 9, 5, 1}, {14, 10, 6, 2}, {15, 11, 7, 3}, {16, 12, 8, 4}};
        RotateMatrix(matr);
        REQUIRE(matr == expected);
    }

    SECTION("10x10") {
        matr = {{83, 86, 77, 15, 93, 35, 86, 92, 49, 21}, {62, 27, 90, 59, 63, 26, 40, 26, 72, 36},
            {11, 68, 67, 29, 82, 30, 62, 23, 67, 35}, {29, 2, 22, 58, 69, 67, 93, 56, 11, 42},
            {29, 73, 21, 19, 84, 37, 98, 24, 15, 70}, {13, 26, 91, 80, 56, 73, 62, 70, 96, 81},
            {5, 25, 84, 27, 36, 5, 46, 29, 13, 57}, {24, 95, 82, 45, 14, 67, 34, 64, 43, 50},
            {87, 8, 76, 78, 88, 84, 3, 51, 54, 99}, {32, 60, 76, 68, 39, 12, 26, 86, 94, 39}};
        expected = {{32, 87, 24, 5, 13, 29, 29, 11, 62, 83}, {60, 8, 95, 25, 26, 73, 2, 68, 27, 86},
            {76, 76, 82, 84, 91, 21, 22, 67, 90, 77}, {68, 78, 45, 27, 80, 19, 58, 29, 59, 15},
            {39, 88, 14, 36, 56, 84, 69, 82, 63, 93}, {12, 84, 67, 5, 73, 37, 67, 30, 26, 35},
            {26, 3, 34, 46, 62, 98, 93, 62, 40, 86}, {86, 51, 64, 29, 70, 24, 56, 23, 26, 92},
            {94, 54, 43, 13, 96, 15, 11, 67, 72, 49}, {39, 99, 50, 57, 81, 70, 42, 35, 36, 21}};
        RotateMatrix(matr);
        REQUIRE(matr == expected);
    }
}

TEST_CASE("a5: Odd size", "[task:a5]") {
    vector<vector<int>> matr;
    vector<vector<int>> expected;
    SECTION("3x3") {
        matr = {{83, 86, 77}, {15, 93, 35}, {86, 92, 49}};
        expected = {{86, 15, 83}, {92, 93, 86}, {49, 35, 77}};
        RotateMatrix(matr);
        REQUIRE(matr == expected);
    }

    SECTION("11x11") {
        matr = {{83, 86, 77, 15, 93, 35, 86, 92, 49, 21, 62}, {27, 90, 59, 63, 26, 40, 26, 72, 36, 11, 68},
            {67, 29, 82, 30, 62, 23, 67, 35, 29, 2, 22}, {58, 69, 67, 93, 56, 11, 42, 29, 73, 21, 19},
            {84, 37, 98, 24, 15, 70, 13, 26, 91, 80, 56}, {73, 62, 70, 96, 81, 5, 25, 84, 27, 36, 5},
            {46, 29, 13, 57, 24, 95, 82, 45, 14, 67, 34}, {64, 43, 50, 87, 8, 76, 78, 88, 84, 3, 51},
            {54, 99, 32, 60, 76, 68, 39, 12, 26, 86, 94}, {39, 95, 70, 34, 78, 67, 1, 97, 2, 17, 92},
            {52, 56, 1, 80, 86, 41, 65, 89, 44, 19, 40}};
        expected = {{52, 39, 54, 64, 46, 73, 84, 58, 67, 27, 83}, {56, 95, 99, 43, 29, 62, 37, 69, 29, 90, 86},
            {1, 70, 32, 50, 13, 70, 98, 67, 82, 59, 77}, {80, 34, 60, 87, 57, 96, 24, 93, 30, 63, 15},
            {86, 78, 76, 8, 24, 81, 15, 56, 62, 26, 93}, {41, 67, 68, 76, 95, 5, 70, 11, 23, 40, 35},
            {65, 1, 39, 78, 82, 25, 13, 42, 67, 26, 86}, {89, 97, 12, 88, 45, 84, 26, 29, 35, 72, 92},
            {44, 2, 26, 84, 14, 27, 91, 73, 29, 36, 49}, {19, 17, 86, 3, 67, 36, 80, 21, 2, 11, 21},
            {40, 92, 94, 51, 34, 5, 56, 19, 22, 68, 62}};
        RotateMatrix(matr);
        REQUIRE(matr == expected);
    }
}